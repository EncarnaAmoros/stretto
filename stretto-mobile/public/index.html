<!DOCTYPE html> 
<html lang="en" ng-app="strettoApp">
<html>
<head>
		<title>Stretto</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
		<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<meta name="author" content="encaramorosb@gmail.com">
		<meta name="description" content="SPA Stretto">
		<meta name="keywords" content="tienda, instrumentos, musica">
		<meta name="copyright" content="2015 Stretto">

		<!-- Include Require -->
		<!--<script type="text/javascript" src="/aplicacion/lib/require.js"></script>-->
		<script type="text/javascript" src="/lib/require.js"></script>
		<!-- Include JQuery -->
		<!--<script type="text/javascript" src="/lib/jquery-1.11.3.min.js"></script>-->
		<!-- Include Bootstrap js y css -->
		<link rel="stylesheet" href="/lib/bootstrap.min.js">
		<link rel="stylesheet" href="/css/bootstrap.min.css">
		<link rel="stylesheet" href="/css/index.css">
		<!-- Include Angular -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
		<!-- Include Angular para rutas -->
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular-route.js"></script>
		<!-- Include Angular UI -->
		<script src="/lib/ui-bootstrap-tpls-0.14.3.min.js"></script>
		
	
	
		<!-- Incuir los CSS estilos -->
		<link rel="stylesheet" href="/css/articulos-list.css">
		<link rel="stylesheet" href="/css/login.css">
		<link rel="stylesheet" href="/css/*.css">
</head>
<body>
	
	<!-- PAGINA ARTICULOS GENERAL -->
	<div data-role="page" id="principal">
			<div data-role="header">
					<h1>Stretto</h1>
			</div>
			<div role="main" class="ui-content">
					Estos son los ultimos artículos, ir a tus <a href="#misarticulos" data-transition="flip"> articulos</a>
					Ve a tu <a href="#perfil" data-transition="flip"> perfil</a>
					o <a href="#login" data-transition="flip">inicia sesión</a>
			</div>
			<div>
				<div ng-controller="ArticulosCtrl">	
					<!-- Filtros de búsqueda -->
					<div>
						<h5>Busca por nombre:</h5>
						<div class="input-group">
							<input ng-model="filtronombre" class="form-control" placeholder="Busca por...">
						</div>

						<h5>Tipo de instrumento:</h5>
						<select ng-model="filtrotipo" class="form-control">
							<option value="" id="defaulselect">Selecciona un tipo</option>
							<option ng-repeat="tipo in tipos" value={{tipo.nombre}}>{{tipo.nombre}}</option>
						</select>			
					</div>
					<!-- Lista con artículos y paginado -->
					<div class="media" ng-repeat="articulo in articulos | filter:filtronombre | filter:filtrotipo"> 
						<!-- Vista de cada artículo -->
						<div class="panel panel-default">
							<div ng-hide="articulo.showdetailedit" class="panel-body">
								<a href="#articulo{{articulo.id}}" class="pull-left">
									<img src="{{articulo.foto}}" class="media-object" id="fotos-articulos" alt="{{articulo.nombre}}">
								</a>
								<div class="media-body">
									<h4 class="media-heading">{{articulo.nombre}}<i id="precio">{{articulo.precio}} €</i></h4>
									<p>{{articulo.descripcion}}</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div data-role="footer" data-position="fixed">
					<h2>Esto es el pie</h2>
			</div>
	</div>
	
	<!-- PAGINA LOGIN -->
	<div data-role="page" ng-controller="LoginCtrl" id="login">
			<div data-role="header">
					<h1>Stretto</h1>
					<a href="#principal" data-rel="back" data-icon="carat-l">Atrás</a>
			</div>
			<div role="main" class="ui-content">
				Iniciar sesión 
			</div>
			<div>
				<div>
						<h5>Email:</h5>
						<div class="input-group">
							<input ng-model="datos.email" type="text" class="form-control" placeholder="usuario@...">
						</div>
						<h5>Contraseña:</h5>
						<div class="input-group">
							<input ng-model="datos.password" type="password" class="form-control" placeholder="***...">
						</div>
						<a ng-click='login()' href="#" data-role="button" data-transition="flip">Iniciar sesión</a>
						<div id="divmensajelogin" class="mensajeoculto">
							<div class="alert alert-success" id="mensajelogin">{{mensaje}}</div>
						</div>
				</div>
			</div>
			
			<div data-role="footer" data-position="fixed">
					<h2>Esto es el pie</h2>
			</div>
	</div>	
		
	<!-- EJEMPLO SECUNDARIA -->
	<div data-role="page" id="secundaria">
			<div data-role="header">
					<h1>Secundaria</h1>
					<a href="#principal" data-rel="back" 
					data-icon="carat-l">Atrás</a>
			</div>
			<div role="main" class="ui-content">
					Esto el contenido secundario 

			</div>
			<div data-role="footer" data-position="fixed">
					<h2>Esto es el pie</h2>
			</div>
	</div>
	
	<!-- Include App -->
	<script src="/js/app.js"></script>
	<!-- Include Controladores -->
	<script src="/js/controllers.js"></script>
	<!-- Incluimos servicios -->
	<script src="/js/strettoService.js"></script>
	
	<script type="text/javascript">
			window.addEventListener('pageshow', function() {
					console.log("Se muestra la página secundaria")
			})
	</script>
	
</body>	
</html>

